input:
    from: 'itermae/data/barseq.sam.gz'
    gzipped: true
    format: sam

matches:

    -   use: input 
        pattern: NGTCCTCGAGGTCTCT+ 
        marking: ABBBBBBBBBBBBBBBB
        marked_groups:
            A:
                name: sampleIndex
                repeat: 5
            B:
                name: rest
                allowed_errors: 1 

    -   use: rest 
        pattern: GTCCTCGAGGTCTCTNCGTACGCTG
        marking: AAAAAAAAAAAAAAABCCCCCCCCC
        marked_groups:
            A:
                name: upPrime
                allowed_errors: 1
            B:
                name: barcode
                repeat_min: 18
                repeat_max: 22
            C:
                name: downPrime
                allowed_errors: 1

output: 
    verbosity: 1 
                 # You can also define "outside" of 'output', you do you.
    to: STDOUT # Default, also can be a filepath
    format: sam # Default, also can be FASTQ, fasta, txt, or SAM
    list: # List of different sequence records to generate in the SAME FILE
        -   name: barcode 
            filter: 'barcode.length >= 3' 
            id: 'id+"_"+sampleIndex'
            seq: 'barcode' 
        -   name: sampleIndex 
            filter: 'sampleIndex.length >= 3'
            id: 'id+"_withFixedFlanking_"+sampleIndex'
            seq: 'upPrime+barcode+downPrime' 
